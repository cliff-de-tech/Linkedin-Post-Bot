{"openapi":"3.1.0","info":{"title":"LinkedIn Post Bot API","description":"\n    AI-powered LinkedIn content automation API.\n    \n    ## Features\n    - Generate LinkedIn posts from GitHub activity\n    - Multiple AI writing templates (Standard, Build in Public, Thought Leadership, Job Search)\n    - Post history and analytics\n    - Image selection from Unsplash\n    - Scheduled posting\n    \n    ## OpenAPI Documentation\n    - OpenAPI JSON: `/openapi.json`\n    - Interactive Docs (Swagger): `/docs`  \n    - ReDoc: `/redoc`\n    ","contact":{"name":"LinkedIn Post Bot","url":"https://github.com/cliff-de-tech/Linkedin-Post-Bot"},"license":{"name":"MIT"},"version":"1.0.0"},"paths":{"/auth/linkedin/start":{"get":{"tags":["linkedin-auth"],"summary":"Linkedin Start","description":"Redirects the user to LinkedIn's authorization page.\n\nIf user_id is provided, uses that user's saved LinkedIn credentials.\nOtherwise falls back to global env vars.","operationId":"linkedin_start_auth_linkedin_start_get","parameters":[{"name":"redirect_uri","in":"query","required":true,"schema":{"type":"string","title":"Redirect Uri"}},{"name":"user_id","in":"query","required":false,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/linkedin/callback":{"get":{"tags":["linkedin-auth"],"summary":"Linkedin Callback","description":"Exchange code for token and redirect back to frontend.\n\nRedirects to: {frontend_redirect}?linkedin_success=true&linkedin_urn=...\nOr on error: {frontend_redirect}?linkedin_success=false&error=...","operationId":"linkedin_callback_auth_linkedin_callback_get","parameters":[{"name":"code","in":"query","required":false,"schema":{"type":"string","title":"Code"}},{"name":"state","in":"query","required":false,"schema":{"type":"string","title":"State"}},{"name":"redirect_uri","in":"query","required":false,"schema":{"type":"string","title":"Redirect Uri"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/github/start":{"get":{"tags":["github-auth"],"summary":"Github Oauth Start","description":"Start GitHub OAuth flow.\n\nRedirects user to GitHub's authorization page.\nRequested scopes: read:user, repo (for private repo access)\n\nArgs:\n    redirect_uri: Where to redirect after auth\n    user_id: Clerk user ID (stored in state for callback)","operationId":"github_oauth_start_auth_github_start_get","parameters":[{"name":"redirect_uri","in":"query","required":true,"schema":{"type":"string","title":"Redirect Uri"}},{"name":"user_id","in":"query","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/github/callback":{"get":{"tags":["github-auth"],"summary":"Github Oauth Callback","description":"Handle GitHub OAuth callback.\n\nExchanges authorization code for access token and stores it encrypted.\n\nReturns JSON status for the frontend callback component.","operationId":"github_oauth_callback_auth_github_callback_get","parameters":[{"name":"code","in":"query","required":false,"schema":{"type":"string","title":"Code"}},{"name":"state","in":"query","required":false,"schema":{"type":"string","title":"State"}},{"name":"redirect_uri","in":"query","required":false,"schema":{"type":"string","title":"Redirect Uri"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/refresh":{"post":{"tags":["Authentication"],"summary":"Refresh Auth","description":"Check if user has valid LinkedIn connection","operationId":"refresh_auth_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRefreshRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/feedback/submit":{"post":{"tags":["Feedback"],"summary":"Submit Feedback","description":"Submit user feedback (stored in SQLite and optionally emailed).","operationId":"submit_feedback_api_feedback_submit_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeedbackRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/feedback/status/{user_id}":{"get":{"tags":["Feedback"],"summary":"Get Feedback Status","description":"Check if user has already submitted feedback.","operationId":"get_feedback_status_api_feedback_status__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/post/generate-preview":{"post":{"tags":["Posts"],"summary":"Generate Preview","description":"Generate an AI post preview from context.\n\nRate limited to 10 requests per hour per user to prevent abuse.\n\nSupports multiple AI providers with tier enforcement:\n- Free tier: Always routes to Groq (fast, free)\n- Pro tier: Can choose groq, openai (GPT-4o), or anthropic (Claude 3.5)","operationId":"generate_preview_api_post_generate_preview_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/post/generate-batch":{"post":{"tags":["Posts"],"summary":"Generate Batch","description":"Generate multiple posts for Bot Mode.\n\nTakes a list of GitHub activities and generates posts for each one.\nReturns the list of generated posts with success/failure counts.\n\nSupports tier-based model selection:\n- Free tier: Always Groq\n- Pro tier: Can specify groq, openai, or anthropic","operationId":"generate_batch_api_post_generate_batch_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchGenerateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/post/providers":{"get":{"tags":["Posts"],"summary":"List Providers","description":"List available AI providers and their configuration status.\n\nReturns provider availability based on configured API keys and user tier.\nFree tier users will see premium providers as unavailable for them.","operationId":"list_providers_api_post_providers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/post/publish":{"post":{"tags":["Posts"],"summary":"Publish","description":"Publish a post to LinkedIn.","operationId":"publish_api_post_publish_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/webhooks/clerk":{"post":{"tags":["Webhooks"],"summary":"Handle Clerk Webhook","description":"Handle incoming Clerk webhook events.\n\nSupported events:\n- user.deleted: Clean up all user data from databases\n- user.created: (logged only)\n- user.updated: (logged only)\n\nReturns:\n    200 OK on success (Clerk retries on non-2xx)","operationId":"handle_clerk_webhook_webhooks_clerk_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/settings/{user_id}":{"get":{"tags":["Settings"],"summary":"Get Settings","description":"Get user settings including persona.\n\nReturns empty object if no settings exist yet.","operationId":"get_settings_api_settings__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Settings"],"summary":"Save Settings Path","description":"Save user settings with user_id from path.\n\nUsed by PersonaSettings component.","operationId":"save_settings_path_api_settings__user_id__post","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SettingsRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/settings":{"post":{"tags":["Settings"],"summary":"Save Settings Body","description":"Save user settings from request body.\n\nUses user_id from request body.","operationId":"save_settings_body_api_settings_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SettingsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/usage/{user_id}":{"get":{"tags":["Settings"],"summary":"Get Usage","description":"Get usage stats for the daily limit bar.\n\nReturns posts used today out of daily limit (10 for free, 50 for pro).","operationId":"get_usage_api_usage__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"timezone","in":"query","required":false,"schema":{"type":"string","default":"UTC","title":"Timezone"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stats/{user_id}":{"get":{"tags":["Settings"],"summary":"Get Stats","description":"Get dashboard stats for a user.\n\nReturns post counts, credits, and growth metrics.","operationId":"get_stats_api_stats__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/connection-status/{user_id}":{"get":{"tags":["Settings"],"summary":"Get Connection Status","description":"Get connection status for LinkedIn and GitHub.\n\nReturns which services are connected for this user.","operationId":"get_connection_status_api_connection_status__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/posts":{"post":{"tags":["Settings"],"summary":"Create Post","description":"Create/save a new post record.","operationId":"create_post_api_posts_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostCreateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/scheduled-posts/{user_id}":{"get":{"tags":["Settings"],"summary":"Get Scheduled Posts","description":"Get scheduled posts for a user.","operationId":"get_scheduled_posts_api_scheduled_posts__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/image/preview":{"post":{"tags":["Settings"],"summary":"Get Image Preview","description":"Get image suggestions for a post (uses Unsplash or similar).","operationId":"get_image_preview_api_image_preview_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImagePreviewRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/templates":{"get":{"tags":["Templates"],"summary":"Get Templates","description":"Get post templates.","operationId":"get_templates_api_templates_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/posts/{user_id}":{"get":{"tags":["Settings"],"summary":"Get Posts History","description":"Get post history for a user.","operationId":"get_posts_history_api_posts__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/scheduled":{"post":{"tags":["Settings"],"summary":"Schedule Post","description":"Schedule a post for later.","operationId":"schedule_post_api_scheduled_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScheduleRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/scheduled/{user_id}":{"get":{"tags":["Settings"],"summary":"Get Scheduled","description":"Get scheduled posts for a user.","operationId":"get_scheduled_api_scheduled__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/scheduled/{post_id}":{"delete":{"tags":["Settings"],"summary":"Delete Scheduled","description":"Delete a scheduled post.","operationId":"delete_scheduled_api_scheduled__post_id__delete","parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}},{"name":"user_id","in":"query","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/publish/full":{"post":{"tags":["Settings"],"summary":"Publish Full","description":"Publish a post with optional image to LinkedIn.","operationId":"publish_full_api_publish_full_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublishFullRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/contact":{"post":{"tags":["Settings"],"summary":"Submit Contact","description":"Handle contact form submissions.","operationId":"submit_contact_api_contact_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContactRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/disconnect-github":{"post":{"tags":["github"],"summary":"Disconnect Github","description":"Disconnect a user's GitHub OAuth token (secured - verifies ownership).","operationId":"disconnect_github_api_disconnect_github_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DisconnectRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/github/activity/{username}":{"get":{"tags":["github"],"summary":"Github Activity","description":"Get GitHub activity for a user","operationId":"github_activity_api_github_activity__username__get","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/github/repo/{owner}/{repo}":{"get":{"tags":["github"],"summary":"Github Repo","description":"Get GitHub repository details","operationId":"github_repo_api_github_repo__owner___repo__get","parameters":[{"name":"owner","in":"path","required":true,"schema":{"type":"string","title":"Owner"}},{"name":"repo","in":"path","required":true,"schema":{"type":"string","title":"Repo"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/github/scan":{"post":{"tags":["github"],"summary":"Scan Github Activity","description":"Scan GitHub for recent activity (secured)\n\nTIER RESTRICTIONS:\n- Free tier: Limited to 24-hour scan\n- Pro tier: Full customization","operationId":"scan_github_activity_api_github_scan_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScanRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/disconnect-linkedin":{"post":{"tags":["linkedin"],"summary":"Disconnect Linkedin","description":"Disconnect a user's LinkedIn account (secured - verifies ownership).\n\nRemoves the stored OAuth token, requiring re-authentication\nto post again.","operationId":"disconnect_linkedin_api_disconnect_linkedin_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DisconnectRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/checkout":{"post":{"tags":["Payments"],"summary":"Create Checkout","description":"Create a Stripe Checkout session to start a subscription.\n\nThe user will be redirected to Stripe's hosted checkout page.\nAfter payment, they'll be redirected to success_url or cancel_url.\n\n**Authentication Required**: Yes (Clerk JWT)\n\n**Request Body**:\n- `user_id`: Clerk user ID\n- `price_id`: Stripe Price ID (from your Stripe Dashboard)\n- `email`: Optional customer email\n- `success_url`: Where to redirect after successful payment\n- `cancel_url`: Where to redirect if user cancels\n\n**Response**:\n- `session_id`: Stripe session ID (for client-side redirect)\n- `checkout_url`: Direct URL to the checkout page","operationId":"create_checkout_api_checkout_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckoutRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckoutResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/billing-portal":{"post":{"tags":["Payments"],"summary":"Create Portal","description":"Create a Stripe Billing Portal session for subscription self-service.\n\nUsers can manage their subscription:\n- Update payment method\n- View invoices\n- Cancel subscription\n\n**Authentication Required**: Yes (Clerk JWT)\n\n**Request Body**:\n- `user_id`: Clerk user ID\n- `return_url`: Where to redirect after portal session\n\n**Response**:\n- `portal_url`: URL to redirect user to","operationId":"create_portal_api_billing_portal_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BillingPortalRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BillingPortalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/subscription":{"post":{"tags":["Payments"],"summary":"Get Subscription","description":"Get current subscription status for a user.\n\n**Authentication Required**: Yes (Clerk JWT)\n\n**Request Body**:\n- `user_id`: Clerk user ID\n\n**Response**:\n- `has_subscription`: Whether user has any subscription record\n- `status`: Subscription status (active, past_due, canceled, etc.)\n- `plan_id`: Stripe Price ID\n- `current_period_end`: Unix timestamp of current billing period end\n- `cancel_at_period_end`: Whether subscription is scheduled to cancel","operationId":"get_subscription_api_subscription_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionStatusRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/webhook/stripe":{"post":{"tags":["Webhooks"],"summary":"Stripe Webhook","description":"Handle Stripe webhook events.\n\n**Authentication**: None (signature verified internally)\n\nThis endpoint receives events from Stripe:\n- `checkout.session.completed`: User completed checkout\n- `invoice.payment_succeeded`: Recurring payment successful\n- `invoice.payment_failed`: Payment failed\n- `customer.subscription.updated`: Subscription changed\n- `customer.subscription.deleted`: Subscription canceled\n\n**SECURITY**: Webhook signature is verified using STRIPE_WEBHOOK_SECRET.\nNever process events without verification.","operationId":"stripe_webhook_webhook_stripe_post","parameters":[{"name":"Stripe-Signature","in":"header","required":false,"schema":{"type":"string","title":"Stripe-Signature"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"tags":["Health"],"summary":"Health","description":"Health check endpoint.","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AuthRefreshRequest":{"properties":{"user_id":{"type":"string","title":"User Id"}},"type":"object","required":["user_id"],"title":"AuthRefreshRequest"},"BatchGenerateRequest":{"properties":{"user_id":{"type":"string","title":"User Id"},"activities":{"items":{},"type":"array","title":"Activities"},"style":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Style","default":"standard"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","default":"groq"}},"type":"object","required":["user_id","activities"],"title":"BatchGenerateRequest","description":"Request for batch post generation in Bot Mode."},"BillingPortalRequest":{"properties":{"user_id":{"type":"string","maxLength":64,"minLength":1,"title":"User Id"},"return_url":{"type":"string","maxLength":500,"title":"Return Url","default":"http://localhost:3000/settings"}},"type":"object","required":["user_id"],"title":"BillingPortalRequest","description":"Request to create a billing portal session."},"BillingPortalResponse":{"properties":{"portal_url":{"type":"string","title":"Portal Url"}},"type":"object","required":["portal_url"],"title":"BillingPortalResponse","description":"Response with billing portal URL."},"CheckoutRequest":{"properties":{"user_id":{"type":"string","maxLength":64,"minLength":1,"title":"User Id"},"price_id":{"type":"string","maxLength":128,"minLength":1,"title":"Price Id","description":"Stripe Price ID (price_xxxxx)"},"email":{"anyOf":[{"type":"string","maxLength":254},{"type":"null"}],"title":"Email"},"success_url":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Success Url"},"cancel_url":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Cancel Url"}},"type":"object","required":["user_id","price_id"],"title":"CheckoutRequest","description":"Request to create a checkout session."},"CheckoutResponse":{"properties":{"session_id":{"type":"string","title":"Session Id"},"checkout_url":{"type":"string","title":"Checkout Url"}},"type":"object","required":["session_id","checkout_url"],"title":"CheckoutResponse","description":"Response with checkout session details."},"ContactRequest":{"properties":{"name":{"type":"string","title":"Name"},"email":{"type":"string","title":"Email"},"subject":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subject","default":"General Inquiry"},"message":{"type":"string","title":"Message"}},"type":"object","required":["name","email","message"],"title":"ContactRequest"},"DisconnectRequest":{"properties":{"user_id":{"type":"string","maxLength":64,"minLength":1,"title":"User Id","description":"Clerk user ID"}},"additionalProperties":false,"type":"object","required":["user_id"],"title":"DisconnectRequest","description":"Request model for disconnect endpoints (LinkedIn/GitHub)."},"FeedbackRequest":{"properties":{"user_id":{"type":"string","title":"User Id"},"rating":{"type":"integer","title":"Rating"},"liked":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Liked"},"improvements":{"type":"string","title":"Improvements"},"suggestions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Suggestions"}},"type":"object","required":["user_id","rating","improvements"],"title":"FeedbackRequest","description":"Request model for feedback submission."},"GenerateRequest":{"properties":{"context":{"additionalProperties":true,"type":"object","title":"Context"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","default":"groq"},"style":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Style","default":"standard"}},"type":"object","required":["context"],"title":"GenerateRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ImagePreviewRequest":{"properties":{"post_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Post Content"},"query":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Query"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Count","default":6}},"type":"object","title":"ImagePreviewRequest","description":"Request model for image preview."},"PostCreateRequest":{"properties":{"user_id":{"type":"string","title":"User Id"},"post_content":{"type":"string","title":"Post Content"},"post_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Post Type","default":"push"},"context":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Context"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status","default":"draft"}},"type":"object","required":["user_id","post_content"],"title":"PostCreateRequest","description":"Request model for creating a post."},"PostRequest":{"properties":{"context":{"additionalProperties":true,"type":"object","title":"Context"},"test_mode":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Test Mode","default":true},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","default":"groq"}},"type":"object","required":["context"],"title":"PostRequest"},"PublishFullRequest":{"properties":{"user_id":{"type":"string","title":"User Id"},"post_content":{"type":"string","title":"Post Content"},"image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Url"},"test_mode":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Test Mode","default":false}},"type":"object","required":["user_id","post_content"],"title":"PublishFullRequest"},"ScanRequest":{"properties":{"user_id":{"type":"string","maxLength":64,"minLength":1,"title":"User Id","description":"Clerk user ID"},"hours":{"type":"integer","maximum":720.0,"minimum":1.0,"title":"Hours","description":"Hours of activity to scan (1-720)","default":24},"activity_type":{"anyOf":[{"type":"string","enum":["push","PushEvent","pr","pull_request","PullRequestEvent","commit","CommitEvent","new_repo","CreateEvent","issue","IssuesEvent","comment","IssueCommentEvent","release","ReleaseEvent","fork","ForkEvent","star","WatchEvent","generic","milestone"]},{"type":"null"}],"title":"Activity Type","description":"Filter by specific activity type"}},"additionalProperties":false,"type":"object","required":["user_id"],"title":"ScanRequest","description":"Request model for GitHub activity scanning."},"ScheduleRequest":{"properties":{"user_id":{"type":"string","title":"User Id"},"post_content":{"type":"string","title":"Post Content"},"scheduled_time":{"type":"integer","title":"Scheduled Time"},"timezone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timezone","default":"UTC"},"image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Url"}},"type":"object","required":["user_id","post_content","scheduled_time"],"title":"ScheduleRequest"},"SettingsRequest":{"properties":{"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"github_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Github Username"},"onboarding_complete":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Onboarding Complete"},"preferences":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Preferences"},"persona":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Persona"}},"type":"object","title":"SettingsRequest","description":"Request model for saving settings."},"SubscriptionStatusRequest":{"properties":{"user_id":{"type":"string","maxLength":64,"minLength":1,"title":"User Id"}},"type":"object","required":["user_id"],"title":"SubscriptionStatusRequest","description":"Request to get subscription status."},"SubscriptionStatusResponse":{"properties":{"has_subscription":{"type":"boolean","title":"Has Subscription"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"plan_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Plan Id"},"current_period_end":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Current Period End"},"cancel_at_period_end":{"type":"boolean","title":"Cancel At Period End","default":false}},"type":"object","required":["has_subscription"],"title":"SubscriptionStatusResponse","description":"Response with subscription details."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}